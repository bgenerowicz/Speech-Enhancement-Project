"# coding = utf-8"
####
##    SETUP
###


import scipy.io
import numpy as np
import pylab

fs = 16e3
tsegment = 20e-3
sseg = tsegment * fs


#import matplotlib

#matplotlib.use("Agg")

import matplotlib.pyplot as plt

import wave
import soundfile as sf


###
## Read Data & Pad Data & Apply Window & FFT
###

#Read
newdata, samplerate = sf.read('Audio/clean.wav')
rms = [block for block in sf.blocks('Audio/clean.wav', blocksize=320, overlap=160)]

#Pad
lastarr = len(rms) - 1  # take last array of the list
length = len(rms[lastarr])  # calculate length of last array
remainder = sseg - (length % sseg)  # calculate length of padding
rms[lastarr] = np.pad(rms[lastarr], (0, int(remainder)), 'constant')  # pad
rmsarray = np.vstack(rms)
